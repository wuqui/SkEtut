{"title":"Sketch Engine tutorial","markdown":{"yaml":{"title":"Sketch Engine tutorial","subtitle":"English Linguistics Colloquium, LMU Munich","author":"Quirin Würschinger","date":"2023-01-19","date-format":"long","format":{"revealjs":{"embed-resources":true,"slide-number":true,"output-file":"SkEtut_slides","output-ext":"html"},"html":{"embed-resources":true,"toc":true,"toc-depth":2,"link-external-newwindow":true},"pdf":{"number-sections":true,"number-depth":2,"toc":true,"toc-depth":2,"output-file":"SkEtut_handout","output-ext":"pdf"}}},"headingText":"Tutorial materials","headingAttr":{"id":"","classes":["smaller"],"keyvalue":[]},"containsRefs":false,"markdown":"\n\n\nYou can find all materials on this GitHub repo: <https://github.com/wuqui/SkEtut>\n\n- website: <https://wuqui.github.io/SkEtut/>\n- slides: <https://wuqui.github.io/SkEtut/SkEtut_slides.html>\n- `pdf` handout: <https://wuqui.github.io/SkEtut/SkEtut_handout.pdf>\n- data: <https://github.com/wuqui/SkEtut/tree/main/data>\n- results: <https://github.com/wuqui/SkEtut/tree/main/export>\n\nI will continue to work on these materials and would appreciate questions, comments, and suggestions via mail or on GitHub.\n\n# General information\n\n## What is Sketch Engine? {.smaller}\n\n![](att/what-is-sketch-engine.png){height=500}\n\n<https://www.sketchengine.eu>\n\n## LMU license\n\n- funded by Projektfond des Nachwuchsförderungsprogramms der Fak. 13 (thanks to Susanne Handl for her help)\n- funding secured for 2023 – hopefully longer?\n- access: **all** LMU members (students and researchers) can access SkE using their LMU-Kennung\n- please let me know if you use it\n\n## Related tools\n\n- [AntConc](https://www.laurenceanthony.net/software/antconc/)\n- [LancsBox](http://corpora.lancs.ac.uk/lancsbox/)\n- [WordSmith](https://www.lexically.net/wordsmith/)\n\n## Main features {.smaller}\n\n*corpus management*\n\n- **creating** corpora from your own data\n- **hosting** these corpora online\n- **annotating** corpora\n- **sharing** your corpora\n  \n. . .\n\n*corpus analysis*\n\n- access to many **pre-loaded corpora**\n- simple and complex **queries**\n- **concordances**\n- **collocation** analysis\n- **text type** analysis\n\n## Resources\n\n<https://www.sketchengine.eu/quick-start-guide/> \n\n<https://www.sketchengine.eu/guide/>\n\n# Compiling corpora\n## Data format {.smaller}\n\n<https://www.sketchengine.eu/guide/create-corpus-from-files/>\n\ntexts **without annotations**: most common\n\n- structure: (ideally) use **1 document per file**\n- file formats: **plain text**\n  - `.txt`\n  - `.csv`\n  - …\n\n**annotated texts**: \n\n- `.xml`: powerful, but more involved\n\n## Raw data {.smaller}\n### Text files\n\n![](att/moby-dick-raw.png){height=400}\n\nMelville: *Moby Dick* – available as part of [Project Gutenberg](https://www.gutenberg.org/)\n\n---\n\n### Tabular data\n\n1. extract the column containing the text body from your spreadsheet (e.g. in new sheet)\n2. export this column to `.csv`\n3. you can then import this column in SkE just like a `.txt`\n\nNote, however, that (meta)data in other columns will be lost[^xml].\n\n[^xml]: To preserve these data, you would have to convert your tabular data (`.xlsx` or `.csv`) into `xml` format before importing.\n\n\n## Uploading files\n\n![](att/add-texts.png)\n\n\n## Adding and editing metadata\n\n![Adding and editing metadata](att/edit-metadata.png){#fig-adding-metadata}\n\n## Processed data {.smaller}\n\nAfter compiling: `vert` ('vertical') format – word per line (WPL)[^1] \n\n:::: {.columns}\n::: {.column width=\"50%\"}\n![](att/moby-dick-vert-meta.png){height=300}\n:::\n::: {.column width=\"50%\"}\n![](att/moby-dick-vert.png){height=350}\n:::\n::::\n\n[^1]: More precisely: one *token* per line, including puctuation: e.g. `it`, `'s`, `,`.\n\n# Analysing data\n## Dashboard\n\n![](att/dashboard.png)\n\n## Available corpora {.smaller}\n\nBrowse full list of (English) corpora [here](https://app.sketchengine.eu/#corpus?tab=advanced&cat=all&sketches=0&lang=en&lang2=&query=&showOld=0).\n\nAmong others, …\n\n- [English Historical Book Collection (EEBO, ECCO, Evans)](https://app.sketchengine.eu/#dashboard?corpname=preloaded%2Fearly_english&corp_info=1): '**historical** corpus collection of English books published in the UK and the USA between 1473 and 1820'\n- [Gutenberg Project](https://app.sketchengine.eu/#dashboard?corpname=preloaded%2Fgutenberg20_en&corp_info=1): large **book** corpus; also available for other languages\n- [British National Corpus (BNC)](https://app.sketchengine.eu/#dashboard?corpname=preloaded%2Fbnc2_tt21&corp_info=1): 'A balanced English corpus of samples of a written and spoken language of **British English** from the later part of the 20th century (1969–1994)'\n- [English Web 2020 (enTenTen20)](https://www.sketchengine.eu/ententen-english-corpus/): big **web** corpus, including metadata about topics, genres, and web domains (e.g. `.com` vs `.co.uk`)\n- [Timestamped JSI web corpus 2014-2021 English](https://app.sketchengine.eu/#dashboard?corpname=preloaded%2Feng_jsi_newsfeed_virt&corp_info=1): huge **diachronic web** corpus, annotated for topic, sentiment and more\n\n\n## Subcorpora {.smaller}\n\nYou can create subcorpora for pre-loaded and self-compiled corpora based on\n\n- all available **metadata** categories (e.g. timestamps, topics, filenames)\n- **concordance** searches\n\n![](att/creating-subcorpora.png)\n\n## Queries {.smaller}\n\nYou run queries from the `Concordance` view.\n\nThere are two options:\n\n- *basic* searches: basic\n- *advanced* searches: more involved and powerful (e.g. searching for constructions based on lemmatized forms or word classes)\n\n![](att/concordance-query-types.png)\n\n---\n\n### Basic queries\n\n![](att/simple-search.png)\n\n---\n\n### Advanced (CQL) queries \n\n![](att/query-advanced-cql.png)\n\nHelpful: [manual](https://www.sketchengine.eu/documentation/corpus-querying/) and `CQL builder`.\n\n---\n\n![](att/cql-builder.png)\n\n---\n\nExtracting parts of your query matches using `within`:\n\n![](att/queries-cql-within.png)\n\n---\n\n### Filtering by metadata\n\nOptions:\n\n- query metadata within **CQL syntax** (e.g. `[word=\"bank\"] within <doc topic=\"recreation\" />`)\n- perform 'text type'[^texttype] filtering using the **dropdown menus**, which is also available for simple queries (see above).\n\n[^texttype]: 'Text types' in SkE are not text types in the linguistic sense, but in the technical sense: documents have different text types if they differ regarding any metadata category. For example, two 'types' could be texts tagged for `<doc year=\"1900\">` vs `<doc year=\"2000\">`.\n\n---\n\n![](att/query-metadata-filter.png){height=400}\n  \n## Concordance view\n\n![](att/concordance-view.png)\n\n## Collocations {.smaller}\n\n![](att/collocations-commit.png)\n\nAdditional measures (e.g. log likelihood) and other options are available in the advanced settings.\n\n## Word sketches\n\n![](att/word-sketch-categories-commit.png)\n\n---\n\n### Word sketch difference: between two words/phrases\n\n![](att/word-sketch-difference-deep-profound.png)\n\n---\n\n### Word sketch difference: between two subcorpora\n\n![](att/word-sketch-difference-bank-business-recreation.png)\n\n### Visualizations\n\n![](att/word-sketch-visual-life.png)\n\n## Annotating data {.smaller}\n\n**for metadata**: see @fig-adding-metadata above\n\n**for concordance lines**:\n\n![](att/annotating-concordance-lines.png)\n\n## Exporting data {.smaller}\n\nAlmost everything can be exported:\n\n- your entire annotated **corpora**\n- results from **queries/concordances**\n- results from **collocations**\n- results from **word sketches**\n\nI recommend exporting data in `.xlsx` format, since this seems to be best supported by SkE.[^csv]\n\n[^csv]: When exporting to `csv`, be careful with decimal/thousands separator: when using the `Text to columns` option in Excel, use `.` as decimal and `,` as thousands separator (e.g. one thousand point five: `1,000.5`).\n\n# Use cases\n## Compiling a corpus: dead authors' minds {.smaller}\n\nSee Section *Compiling corpora* above.\n\n**Sharing corpora**: the toy corpus of Gutenberg books that I created for this tutorial is named `qw-gutenberg ` and it should be accessible by all LMUlers.\n\n![](att/corpus-sharing.png)\n\n## Studying syntactic constructions: *the N BE that* {.smaller}\n\nSelect pre-loaded corpus: [Gutenberg English 2020](https://app.sketchengine.eu/#concordance?corpname=preloaded%2Fgutenberg20_en&corp_info=1)\n\n![](att/corp-gutenberg-preloaded.png)\n\nQuery inspired by: Schmid, Hans-Jörg, and Annette Mantlik. 2015. ‘Entrenchment in Historical Corpora? Reconstructing Dead Authors’ Minds from Their Usage Profiles’. *Anglia* 133 (4): 583—623.\n\n---\n\n### Search for target construction\n\n![](att/queries-cql-within.png)\n\n---\n\nGet frequency distribution of nouns in target construction:\n\n![](att/the-n-be-that-get-freq.png)\n\n---\n\nDistribution across all authors in SkE:\n\n![](att/the-n-be-that-get-freq-results.png){height=500}\n\n---\n\nPlot in exported Excel file:\n\n![](att/the-n-be-that-get-freq-results-excel.png)\n\n---\n\nIndividual analysis on Samuel Pepys’ works:\n\n![](att/the-n-be-that-pepys-query.png)\n\n---\n\nResults for Samuel Pepys:\n\n![](att/the-n-be-that-pepys-results.png){height=400}\n\n\n## Comparing collocational profiles {.smaller}\n\n**corpus**: enTenTen20\n\n**method**: for the lemma *bank*^n^, get word sketch differences between texts with `recreation` and `business` as topics\n\n![](att/bank-word-sketch-diff-query.png)\n\n---\n\nResults:\n\n![](att/bank-word-sketch-diff-results.png)\n\n\n## Investigating frequency over time: the rise of *whatever*\n\ncorpus: [English Historical Book Collection (EEBO, ECCO, Evans)](https://app.sketchengine.eu/#trends?corpname=preloaded%2Fearly_english&tab=basic&structattr=doc.decade&trends_attr=lemma&showresults=1&corp_info=1)\n\n1. Identify words that have significantly increased or decreased in frequency over time using the **trends** feature:\n\n![](att/whatever-trends-query.png)\n\n---\n\nResults:\n\n:::: {.columns}\n::: {.column width=\"50%\"}\n![](att/whatever-trends-results-pos.png){height=400}\n:::\n::: {.column width=\"50%\"}\n![](att/whatever-trends-results-neg.png){height=400}\n:::\n::::\n\n---\n\n2. Investigating the frequency increase of *whatever*:\n\n![](att/whatever-trends-freq-diac-query.png)\n\n---\n\nResults:\n\n![](att/whatever-trends-freq-diac-results.png)\n\n---\n\nPlotting the exported version in Excel:\n\n![](att/whatever-trends-freq-diac-results-excel.png)\n"},"formats":{"revealjs":{"execute":{"fig-width":10,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","html-math-method":{"method":"mathjax","url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML-full"},"slide-level":2,"to":"revealjs","embed-resources":true,"output-file":"SkEtut_slides"},"language":{},"metadata":{"lang":"en","fig-responsive":false,"quarto-version":"1.2.269","auto-stretch":true,"title":"Sketch Engine tutorial","subtitle":"English Linguistics Colloquium, LMU Munich","author":"Quirin Würschinger","date":"2023-01-19","date-format":"long","slideNumber":true}},"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":true,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","embed-resources":true,"toc":true,"toc-depth":2,"output-file":"SkEtut.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.269","title":"Sketch Engine tutorial","subtitle":"English Linguistics Colloquium, LMU Munich","author":"Quirin Würschinger","date":"2023-01-19","date-format":"long"},"extensions":{"book":{"multiFile":true}}},"pdf":{"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","number-sections":true,"toc":true,"toc-depth":2,"output-file":"SkEtut_handout"},"language":{},"metadata":{"block-headings":true,"title":"Sketch Engine tutorial","subtitle":"English Linguistics Colloquium, LMU Munich","author":"Quirin Würschinger","date":"2023-01-19","date-format":"long","number-depth":2},"extensions":{"book":{}}}}}